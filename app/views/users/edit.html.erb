<% provide(:title, "Edit user") %>

<dir class="container">
    <div class="row">
      <div class="col-md-7 col-md-offset-1">

        <h3 class="lead"><span class="text-uppercase">Settings</span><small><br> Change your basic settings</small></h3>
        <hr>
        <%= form_for(@user) do |f| %>
          <%= render 'shared/error_messages', object: f.object %> 

          <div class="row">
            <div class="form-group">
              <div class="col-md-2">
                <%= f.label :avatar, "Profile Picture" %>
              </div>
                <div class="col-md-8">
                  <%= f.file_field :avatar, class: "file-input" %>
               </div>
            </div> 
          </div>  

          <div class="row">
            <div class="form-group">
              <div class="col-md-2">
                <%= f.label :slug, "Username" %>
              </div>
              <div class="col-md-8">
                <%= f.text_field :slug, class: 'form-control' %>
              </div>
            </div>
          </div>  

          <div class="row">
            <div class="form-group">
              <div class="col-md-2">
                <%= f.label :first_name %>
              </div>
              <div class="col-md-8">
                <%= f.text_field :first_name, class: 'form-control' %>
              </div>
            </div>
          </div>  

          <div class="row">
            <div class="form-group">
              <div class="col-md-2">
                <%= f.label :last_name %>
              </div>
              <div class="col-md-8">
                <%= f.text_field :last_name, class: 'form-control' %>
              </div>
            </div>
          </div>  
          
          <div class="row">
            <div class="form-group">
              <div class="col-md-2">
                <%= f.label :email %>
              </div>
              <div class="col-md-8">
                <%= f.text_field :email, class: 'form-control' %>
              </div>
            </div>
          </div>  

          <div class="row">
            <div class="form-group">
              <div class="col-md-2">
                <%= f.label :phone %>
              </div>
              <div class="col-md-8">
                <%= f.text_field :phone, class: 'form-control' %>
              </div>
            </div>
          </div>  

          <div class="row">
            <div class="form-group">
              <div class="col-md-2">
                <%= f.label :password %>
              </div>
              <div class="col-md-8">
                <%= f.password_field :password, class: 'form-control' %>
              </div>
            </div>
          </div>  

          <div class="row">
            <div class="form-group">
              <div class="col-md-2">
                <%= f.label :password_confirmation, "Confirmation" %>
              </div>
              <div class="col-md-8">
                <%= f.password_field :password_confirmation, class: 'form-control' %>
              </div>
            </div>
          </div> 
          

          <div class="form-group">
            <div class="col-sm-offset-1 col-sm-10">
          <%= f.submit "Save changes", class: "btn btn-fill btn-primary pull-right" %>
            </div>
          </div>
          
        <% end %>
      </div>
      <div class="col-md-4">
        <% if current_user.card_last4.nil? %>
          <%= link_to "Add Payment Method", new_payment_method_path, class: "btn btn-primary btn-fill" %>
        <% else %>
          <h5 class="lead" style="margin-top: 50px;">CARD ON FILE</h5>
          <div><strong>Card on File:</strong> <%= current_user.card_brand %> (**** **** **** <%= current_user.card_last4 %>)</div>
          <div style="margin-bottom: 20px;"><strong>Expiration:</strong> <%= current_user.card_exp_month %> / <%= current_user.card_exp_year %></div>

          <%= link_to "Charges", charges_path, class: "btn btn-primary btn-fill" %>
          <%= link_to "Update your card", new_payment_method_path, class: "btn btn-default" %>
        <% end %>  
      </div>

    </div>
</dir>